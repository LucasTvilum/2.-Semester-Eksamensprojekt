@using Core.Models
@using ClientApp.Service
@inject ICustomer customerService
@page "/AddCustomerTEMP"

<h3>Midlertidig tilf√∏j bruger/medarbejder</h3>

<EditForm Model="@customer" OnValidSubmit="@HandleSubmit" class="row p-3">
    <DataAnnotationsValidator />
    <ValidationSummary />
    
    <div class="col-md-12 mb-3">
        <label for="Name">Username</label>
        <InputText id="Username" @bind-Value="customer.Username" class="form-control" />
    </div>

    
    <div class="col-md-12 mb-3">
        <label for="Name">Password</label>
        <InputText id="Password" @bind-Value="customer.Password" type="password" class="form-control" />
    </div>
    
    <div class="col-md-12 mb-3">
        <label for="Name">Navn</label>
        <InputText id="Name" @bind-Value="customer.Name" class="form-control" />
    </div>
  
    <div class="col-md-12 mb-3">
        <label for="Mail">Mail</label>
        <InputText id="Mail" @bind-Value="customer.Mail" class="form-control" />
    </div>
    
    <div class="col-md-12 mb-3">
        <label for="PhoneNumber">Telefon nr</label>
        <InputText id="PhoneNumber" @bind-Value="customer.PhoneNumber" class="form-control" />
    </div>
    
    <div class="col-md-12 mb-3">
        <label for="Address">Addresse</label>
        <InputText id="Address" @bind-Value="customer.Address" class="form-control" />
    </div>

    <div class="col-md-12 mb-3">
        <label for="Region">Region</label>
        <InputText id="Region" @bind-Value="customer.Region" class="form-control" />
    </div>
    
    <div class="col-md-12 mb-3">
        <label for="City">City</label>
        <InputText id="City" @bind-Value="customer.City" class="form-control" />
    </div>
    
    <div class="col-12 mb-3">
        <button type="submit" class="btn btn-primary" >Opret Kunde</button>
    </div>
    
    <div class="col-12 mb-3">
        <button type="reset" class="btn btn-primary">Reset</button>
    </div>

</EditForm> 

@code {
    
    private Customer customer = new Customer();

    private void HandleSubmit()
    {
        //if logged in Username = UserState.Name, Password = UserState.Password
        customer.Usertype = User.UserType.Customer;
        customerService.Add(customer);
        customer = new Customer();
    }
    
}